
##### 添加页面

我们的目标是给我们的`Phoenix`应用增加两个新的页面，一个是纯静态页面，另一个则从`url`里面截取一部分作为输入，然后传递给模板显示。从这两个简单的例子中我们将会熟悉一个`Phoenix`应用的基本组件: 路由，控制器，视图以及模板。

当我们用命令产生一个`Phoenix`应用后，默认的目录结构如下：
```bash
├── _build
├── config
├── deps
├── lib
├── priv
├── test
├── web
```
我们教程中涉及的大部分内容都在`web`目录下，她的机构展开如下图：

```bash
├── channels
├── controllers
│   └── page_controller.ex
├── models
├── router.ex
├── templates
│   ├── layout
│   │   └── app.html.eex
│   └── page
│       └── index.html.eex
└── views
|   ├── error_view.ex
|   ├── layout_view.ex
|   └── page_view.ex
└── web.ex
```

在 `controllers`,`templates`和`views`目录里的所有文件都是用于创建`Welcome to Phenix`欢迎页面的,我们之后将重用这里的一些代码。

All of our application's static assets live in priv/static in the directory appropriate for each type of file - css, images or js. We place assets that require a build phase into web/static, and the source files are built into their respective app.js / app.css bundles within priv/static. We won't be making any changes here for now, but it is good to know where to look for future reference.

我们应用所需的所有静态资源都在 `priv/static` 目录下（按照css,images或者js分类）, .... , 我们现在不会做任何改变，只是留个印象。

```bash
priv
└── static
    └── images
        └── phoenix.png

```
```
web
└── static
    ├── css
    |   └── app.scss
    ├── js
    │   └── app.js
    └── vendor
        └── phoenix.js
```
`lib`目录也值得我们了解一下，它包含了我们应用的端点文件( endpoint 更好的翻译？)以及应用文件（用来启动和监视项目目录）lib/hello_phoenix.ex.

```bash
lib
├── hello_phoenix
|   ├── endpoint.ex
│   └── repo.ex
└── hello_phoenix.ex

```
准备的差不多了，现在让我们编写一个新的 `Phoenix` 页面吧！

##### 新的路由
Routes map unique HTTP verb/path pairs to controller/action pairs which will handle them. Phoenix generates a router file for us in new applications at web/router.ex. This is where we will be working for this section.

路由将给定并唯一的 `HTTP 动词/路径(verb/path)` 映射到处理他们的 `控制器和动作(controller/action)`, `Phoenix`的路由配置信息在 `web/router.ex`文件，让我们打开来看看。

欢迎页面对应的路由是这条语句：
```bash
get "/", PageController, :index
```
让我们看看这代表什么意思呢，浏览器访问 `http://localhost:4000/` 会给我们网站的根目录发出一个`GET`请求，这个请求会被 `index` 函数处理，后者定义在 `web/controllers/page_controller.ex`文件中.

我们要建立的页面功能是：当浏览器访问 `http://localhost:4000/hello`时，简单的在页面上显示'Hello World from Phoenix'.

首先我们要为这个页面增加一个路由，现在`web/route.ex`看起来如下：

```bash
defmodule HelloPhoenix.Router do
  use HelloPhoenix.Web, :router

  pipeline :browser do
    plug :accepts, ["html"]
    plug :fetch_session
    plug :fetch_flash
    plug :protect_from_forgery
    plug :put_secure_browser_headers
  end

  pipeline :api do
    plug :accepts, ["json"]
  end

  scope "/", HelloPhoenix do
    pipe_through :browser # Use the default browser stack

    get "/", PageController, :index
  end

  # Other scopes may use custom stacks.
  # scope "/api", HelloPhoenix do
  #   pipe_through :api
  # end
end

```

现在，我们先不管 `pipelines`和`scope`部分（这些内容详见 Routing部分(todo)）.

让我为 `/hello` 的`GET`请求创建一个路由吧(对应的文件--HelloPhoenix文件稍后创建).

```bash
get "/hello", HelloController, :index
```
添加后，`router.ex`文件的 `scope '/'` 部分看起来应该是这个样子：

```bash
scope "/", HelloPhoenix do
  pipe_through :browser # Use the default browser stack

  get "/", PageController, :index
  get "/hello", HelloController, :index
end
```

























